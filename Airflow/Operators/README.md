## Операторы
Operator — это звено в цепочке задач, которое образует DAG. Представим, что нужно описать ряд зависимых между собой задач. Например, нужно скачать изображение с удалённого хоста и пометить его водным знаком. Такая цепочка может состоять из двух задач:

* Скачивание изображения
* Накладывание водяного знака

Каждый из этих шагов и будет отдельным оператором в терминах Airflow.

Если снова взглянуть на <a href="https://github.com/Oleg-Loginov-analyst/Analytics/tree/main/Airflow/Directed_Acyclic_Graph">картинку из описания DAG</a>, то каждый кружочек это отдельный оператор Airflow.

В Airflow есть ряд готовых операторов, например:

* PythonOperator — оператор для исполнения python кода
* BashOperator — оператор для запуска bash скриптов/команд
* PostgresOperator — оператор для вызова SQL запросов в PostgreSQL БД
* RedshiftToS3Transfer — оператор для запуска UNLOAD команды из Redshift в S3
* EmailOperator — оператор для отправки электронных писем

Полный список стандартных операторов можно найти в <a href="https://airflow.apache.org/docs/apache-airflow/stable/_api/airflow/operators/index.html">документации Apache Airflow</a>.

PythonOperator — это самый популярный оператор, т.к. он позволяет запускать код на Python.

Начиная с Apache Airflow 2.0 появилась возможность элегантным образом описывать DAG и операторы, используя декораторы. При использовании декораторов dag и task, это происходит "под капотом" за счёт чего код остаётся чистым. Не рекомендую передавать большой объём данных между операторами, т.к. коммуникация происходит через базу данных путём сериализации/десериализации объектов, что в итоге замедлит выполнение вашего кода.

## Сенсоры
Сенсоры — это разновидность операторов, используемых для организации событийно-ориентированных дата пайплайнов. В Airflow присутствуют следующие сенсоры:

* PythonSensor — ждём, когда функция вернёт True
* S3Sensor — проверяет наличие объекта по ключу в S3-бакете
* RedisPubSubSensor — проверяет наличие сообщения в pub-sub очереди
* RedisKeySensor — проверяет существует ли переданный ключ в Redis хранилище

Если успешность вашего пайплайна зависит от наступления события, например, появления файла на удалённом хосте или записи в базе данных, то вам нужен сенсор.
